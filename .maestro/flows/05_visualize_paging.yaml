# Visualize Flow - Horizontal and Vertical Paging
# Tags: visualize

appId: app.antran.dotlife
name: Visualize - Paging Navigation

---
- launchApp:
    clearState: true

# Wait for app to load
- extendedWaitUntil:
    visible:
      id: "capture.noteTextField"
    timeout: 10000

# Dismiss keyboard by tapping on empty area (top of screen)
- tapOn:
    point: 50%, 20%

# Wait for keyboard to dismiss
- waitForAnimationToEnd

# Take screenshot to verify keyboard dismissed
- takeScreenshot: paging_00_keyboard_dismissed

# Verify on Capture screen
- assertVisible:
    id: "capture.noteTextField"
- takeScreenshot: paging_01_capture

# Swipe from edge to edge to navigate to Visualize
# Use edge swipe which might trigger iOS page navigation
- swipe:
    start: 99%, 50%
    end: 1%, 50%
    duration: 800

# Wait for animation to complete
- waitForAnimationToEnd

# Verify Today grid is visible
- extendedWaitUntil:
    visible:
      id: "visualize.today.hint"
    timeout: 5000
- assertVisible:
    id: "visualize.today.grid"

# Take screenshot of Visualize with dot matrix
- takeScreenshot: paging_02_visualize_dot_matrix

# Swipe up to navigate to Week view (scroll content down)
- swipe:
    start: 50%, 70%
    end: 50%, 30%
    duration: 400

# Wait for animation
- waitForAnimationToEnd

# Verify Week view is displayed
- extendedWaitUntil:
    visible:
      id: "visualize.week.hint"
    timeout: 5000
- assertVisible:
    id: "visualize.week.grid"

# Take screenshot of Week view
- takeScreenshot: paging_03_week_view

# Swipe down to go back to Today (scroll content up)
- swipe:
    start: 50%, 30%
    end: 50%, 70%
    duration: 400

# Wait for animation
- waitForAnimationToEnd

# Verify back on Today view
- extendedWaitUntil:
    visible:
      id: "visualize.today.hint"
    timeout: 5000

# Swipe right to go back to Capture
- swipe:
    start: 10%, 30%
    end: 90%, 30%
    duration: 400

# Wait for animation
- waitForAnimationToEnd

# Should be back on Capture
- extendedWaitUntil:
    visible:
      id: "capture.noteTextField"
    timeout: 5000
- assertVisible:
    id: "capture.noteTextField"

- takeScreenshot: paging_04_back_to_capture
